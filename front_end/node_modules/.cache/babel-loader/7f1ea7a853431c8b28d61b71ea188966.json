{"ast":null,"code":"import _classCallCheck from \"/Users/dimitris/Documents/HOme/front_end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/dimitris/Documents/HOme/front_end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/dimitris/Documents/HOme/front_end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/dimitris/Documents/HOme/front_end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/dimitris/Documents/HOme/front_end/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/dimitris/Documents/HOme/front_end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/dimitris/Documents/HOme/front_end/src/Components/Remove.js\";\nimport React from 'react';\nvar API = 'http://127.0.0.1:5000/place';\n\nvar Remove =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Remove, _React$Component);\n\n  function Remove(props) {\n    var _this;\n\n    _classCallCheck(this, Remove);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Remove).call(this, props));\n\n    _this.removeItem = function (index) {\n      var items = _this.state.places;\n      console.log(items);\n\n      _this.setState({\n        places: items.filter(function (place, i) {\n          return i !== index;\n        })\n      });\n    };\n\n    _this.delete_data = function (event) {\n      var sw = event.target.value;\n      console.log(sw);\n      fetch('http://127.0.0.1:5000/delete_place/' + sw, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          switch: _this.state.s_id\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        return console.log(data);\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.onClicked = function (index, event) {\n      _this.removeItem(index);\n\n      _this.delete_data(event);\n    };\n\n    _this.state = {\n      places: []\n    };\n    _this.removeItem = _this.removeItem.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.delete_data = _this.delete_data.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onClicked = _this.onClicked.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Remove, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      fetch(API).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        return json.result.map(function (place) {\n          return {\n            place: \"\".concat(place.place),\n            Switch: \"\".concat(place.switch)\n          };\n        });\n      }).then(function (places) {\n        return _this2.setState({\n          places: places\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var places = this.state.places;\n      var delete_switch = places.map(function (switch_name, index) {\n        var place = switch_name.place,\n            Switch = switch_name.Switch;\n        return React.createElement(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          className: \"elements-table\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, place), React.createElement(\"td\", {\n          className: \"elements-table\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, Switch), React.createElement(\"td\", {\n          className: \"elements-table\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"delete-btn\",\n          type: \"button\",\n          value: Switch,\n          onClick: function onClick(event) {\n            _this3.onClicked(index, event);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, \"X\"))));\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"title-modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Press X to delete any switch.\"), React.createElement(\"table\", {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        className: \"title-table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Place\"), React.createElement(\"th\", {\n        className: \"title-table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Switch ID\"), React.createElement(\"th\", {\n        className: \"title-table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Remove\")), delete_switch));\n    }\n  }]);\n\n  return Remove;\n}(React.Component);\n\nexport default Remove;","map":{"version":3,"sources":["/Users/dimitris/Documents/HOme/front_end/src/Components/Remove.js"],"names":["React","API","Remove","props","removeItem","index","items","state","places","console","log","setState","filter","place","i","delete_data","event","sw","target","value","fetch","method","headers","body","JSON","stringify","switch","s_id","then","res","json","data","catch","err","onClicked","bind","response","result","map","Switch","delete_switch","switch_name","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,GAAG,GAAC,6BAAV;;IAEMC,M;;;;;AACF,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACnB,gFAAMA,KAAN;;AADmB,UAyBnBC,UAzBmB,GAyBN,UAACC,KAAD,EAAW;AACpB,UAAMC,KAAK,GAAG,MAAKC,KAAL,CAAWC,MAAzB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ;;AACA,YAAKK,QAAL,CAAc;AACVH,QAAAA,MAAM,EAAEF,KAAK,CAACM,MAAN,CAAa,UAACC,KAAD,EAAQC,CAAR,EAAc;AAC/B,iBAAOA,CAAC,KAAKT,KAAb;AACH,SAFO;AADE,OAAd;AAKH,KAjCkB;;AAAA,UAoCnBU,WApCmB,GAoCL,UAACC,KAAD,EAAW;AACrB,UAAMC,EAAE,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAAxB;AACAV,MAAAA,OAAO,CAACC,GAAR,CAAYO,EAAZ;AACAG,MAAAA,KAAK,CAAC,wCAAsCH,EAAvC,EAA2C;AAC5CI,QAAAA,MAAM,EAAE,QADoC;AAE5CC,QAAAA,OAAO,EAAE;AAAC,0BAAe;AAAhB,SAFmC;AAG5CC,QAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAACC,UAAAA,MAAM,EAAE,MAAKnB,KAAL,CAAWoB;AAApB,SAAf;AAHuC,OAA3C,CAAL,CAIGC,IAJH,CAIQ,UAACC,GAAD;AAAA,eAASA,GAAG,CAACC,IAAJ,EAAT;AAAA,OAJR,EAKKF,IALL,CAKU,UAACG,IAAD;AAAA,eAAWtB,OAAO,CAACC,GAAR,CAAYqB,IAAZ,CAAX;AAAA,OALV,EAMKC,KANL,CAMW,UAACC,GAAD;AAAA,eAAOxB,OAAO,CAACC,GAAR,CAAYuB,GAAZ,CAAP;AAAA,OANX;AAOH,KA9CkB;;AAAA,UAgDnBC,SAhDmB,GAgDP,UAAC7B,KAAD,EAAQW,KAAR,EAAkB;AAC1B,YAAKZ,UAAL,CAAgBC,KAAhB;;AACA,YAAKU,WAAL,CAAiBC,KAAjB;AACH,KAnDkB;;AAGnB,UAAKT,KAAL,GAAa;AACTC,MAAAA,MAAM,EAAE;AADC,KAAb;AAGA,UAAKJ,UAAL,GAAkB,MAAKA,UAAL,CAAgB+B,IAAhB,uDAAlB;AACA,UAAKpB,WAAL,GAAmB,MAAKA,WAAL,CAAiBoB,IAAjB,uDAAnB;AACA,UAAKD,SAAL,GAAiB,MAAKA,SAAL,CAAeC,IAAf,uDAAjB;AARmB;AAStB;;;;yCAEwB;AAAA;;AACjBf,MAAAA,KAAK,CAACnB,GAAD,CAAL,CACC2B,IADD,CACM,UAAAQ,QAAQ;AAAA,eAAIA,QAAQ,CAACN,IAAT,EAAJ;AAAA,OADd,EAECF,IAFD,CAEM,UAAAE,IAAI;AAAA,eAAIA,IAAI,CAACO,MAAL,CAAYC,GAAZ,CAAgB,UAAAzB,KAAK;AAAA,iBAC/B;AACIA,YAAAA,KAAK,YAAKA,KAAK,CAACA,KAAX,CADT;AAEI0B,YAAAA,MAAM,YAAM1B,KAAK,CAACa,MAAZ;AAFV,WAD+B;AAAA,SAArB,CAAJ;AAAA,OAFV,EAQCE,IARD,CAQM,UAAApB,MAAM;AAAA,eAAI,MAAI,CAACG,QAAL,CAAc;AAC1BH,UAAAA,MAAM,EAANA;AAD0B,SAAd,CAAJ;AAAA,OARZ;AAWH;;;6BA8BQ;AAAA;;AAAA,UACEA,MADF,GACY,KAAKD,KADjB,CACEC,MADF;AAEL,UAAMgC,aAAa,GAAGhC,MAAM,CAAC8B,GAAP,CAAW,UAACG,WAAD,EAAcpC,KAAd,EAAyB;AAAA,YAC/CQ,KAD+C,GAC9B4B,WAD8B,CAC/C5B,KAD+C;AAAA,YACxC0B,MADwC,GAC9BE,WAD8B,CACxCF,MADwC;AAEtD,eACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAI,UAAA,GAAG,EAAElC,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAI,UAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAgCQ,KAAhC,CADJ,EAC+C;AAAI,UAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAgC0B,MAAhC,CAD/C,EAC2F;AAAI,UAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA+B;AAAQ,UAAA,SAAS,EAAC,YAAlB;AAA+B,UAAA,IAAI,EAAC,QAApC;AAA6C,UAAA,KAAK,EAAEA,MAApD;AAA4D,UAAA,OAAO,EAAE,iBAACvB,KAAD,EAAW;AAAC,YAAA,MAAI,CAACkB,SAAL,CAAe7B,KAAf,EAAsBW,KAAtB;AAA6B,WAA9G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA/B,CAD3F,CADJ,CADJ;AAOH,OATqB,CAAtB;AAWA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCADJ,EAEI;AAAO,QAAA,SAAS,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEI;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFJ,EAGI;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,CADJ,EAMKwB,aANL,CAFJ,CADJ;AAaH;;;;EAhFgBxC,KAAK,CAAC0C,S;;AAkF3B,eAAexC,MAAf","sourcesContent":["import React from 'react';\n\nconst API='http://127.0.0.1:5000/place';\n\nclass Remove extends React.Component {\n    constructor(props) {\n    super(props);\n\n    this.state = {\n        places: []\n    };\n    this.removeItem = this.removeItem.bind(this);\n    this.delete_data = this.delete_data.bind(this);\n    this.onClicked = this.onClicked.bind(this);\n}\n\n    componentWillMount() {\n        fetch(API)\n        .then(response => response.json())\n        .then(json => json.result.map(place => (\n            {\n                place: `${place.place}`,\n                Switch:  `${place.switch}`\n            }\n        )))\n        .then(places => this.setState({\n            places\n        }))\n    }\n\n    removeItem = (index) => {\n        const items = this.state.places;\n        console.log(items);\n        this.setState({\n            places: items.filter((place, i) => {\n                return i !== index;\n            })\n        });\n    };\n\n\n    delete_data = (event) => {\n        const sw = event.target.value;\n        console.log(sw);\n        fetch('http://127.0.0.1:5000/delete_place/'+sw, {\n            method: 'DELETE',\n            headers: {'Content-Type':'application/json'},\n            body:JSON.stringify({switch: this.state.s_id})\n        }).then((res) => res.json())\n            .then((data) =>  console.log(data))\n            .catch((err)=>console.log(err));\n    };\n\n    onClicked = (index, event) => {\n        this.removeItem(index);\n        this.delete_data(event);\n    }\n\n    render() {\n        const {places} = this.state;\n        const delete_switch = places.map((switch_name, index)  => {\n            const {place, Switch} = switch_name;\n            return (\n                <React.Fragment>\n                    <tr key={index}>\n                        <td className=\"elements-table\">{place}</td><td className=\"elements-table\">{Switch}</td><td className=\"elements-table\"><button className=\"delete-btn\" type=\"button\" value={Switch} onClick={(event) => {this.onClicked(index, event)}} >X</button></td>\n                    </tr>\n                </React.Fragment>\n            )\n        });\n\n        return(\n            <div>\n                <h3 className=\"title-modal\">Press X to delete any switch.</h3>\n                <table className=\"table\">\n                    <tr>\n                        <th className=\"title-table\">Place</th>\n                        <th className=\"title-table\">Switch ID</th>\n                        <th className=\"title-table\">Remove</th>\n                    </tr>\n                    {delete_switch}\n                </table>\n                </div>\n        )\n    }\n}\nexport default Remove;"]},"metadata":{},"sourceType":"module"}